(this["webpackJsonpnatural-selection"]=this["webpackJsonpnatural-selection"]||[]).push([[0],{110:function(e,a,t){e.exports=t(123)},121:function(e,a,t){},122:function(e,a,t){},123:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(10),o=t.n(r),i=t(14),c=t(19),s=t(21),m=t(20),u=t(22),h=t(55),p=t(42),d=t(171),g=t(154),f=t(150),E=t(157),b=t(152),y=t(169),v=t(149),w=t(13),k=t.n(w),S=t(97),x=t(148),j=t(153),O=t(155),I=t(156),C=t(59),H=t.n(C),N=t(58),T=t.n(N),q=t(57),R=t.n(q),D=t(151);function M(){return l.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"The University of Hong Kong",l.a.createElement("br",null),"Released May 2020")}var L=Object(x.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1575477493388-c3ccb0a00868?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(4,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(0),backgroundColor:e.palette.secondary.main}}}));function W(){var e=L();return l.a.useEffect((function(){window.scrollTo(0,0)}),[]),l.a.createElement(v.a,{container:!0,component:"main",className:e.root},l.a.createElement(f.a,null),l.a.createElement(D.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:1e3},l.a.createElement(v.a,{item:!0,xs:!1,sm:4,md:7,className:e.image})),l.a.createElement(D.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:1e3},l.a.createElement(v.a,{item:!0,xs:12,sm:8,md:5,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(j.a,{in:!0,timeout:2500},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null))),l.a.createElement(j.a,{in:!0,timeout:2500},l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"Evolutionary Game Theory"))),l.a.createElement(j.a,{in:!0,timeout:2500},l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2},"Have you ever watched a nature documentary and thought to yourself, why don't animals simply share food with one another? Or alternatively, why don't they completely eliminate their enemies to prevent future conflict?"),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,{lineHeight:2},"When animals fight, be it over foods or mates, we usually see a lot of posturing and mock fighting that only moderately injures the participants. How do animals know when to stop fighting? And, what drives this behavior?"),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,{lineHeight:2},"Part of the answer lies in something called ",l.a.createElement("b",null,"Evolutionary Stable Strategies"),". Let us take a close look at what exactly this is, and how it plays out in the world around us."))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,{fullWidth:!0},l.a.createElement(j.a,{in:!0,timeout:3e3},l.a.createElement(h.b,{to:"/hawkdove",style:{textDecoration:"none"}},l.a.createElement(g.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary"},"Begin")))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(j.a,{in:!0,timeout:3e3},l.a.createElement(v.a,{container:!0,className:e.paper},l.a.createElement(v.a,null,"Skip ahead to the tools here!",l.a.createElement("br",null)),l.a.createElement(O.a,{onChange:function(e,a){!function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}(a)},showLabels:!0},l.a.createElement(I.a,{label:"Evolutionary Stable Strategy Calculator",value:"hawkdovesandbox",icon:l.a.createElement(R.a,null)}),l.a.createElement(I.a,{label:"Evolutionary Stable Strategy Simulation",value:"esssandbox",icon:l.a.createElement(T.a,null)}),l.a.createElement(I.a,{label:"Mock Fighting Simulation",value:"fakefightingsandbox",icon:l.a.createElement(H.a,null)})))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(j.a,{in:!0,timeout:3e3},l.a.createElement(v.a,{container:!0},l.a.createElement(v.a,{container:!0},l.a.createElement(v.a,{item:!0,xs:!0},l.a.createElement(E.a,{href:"https://www.linkedin.com/in/davidbhan/",variant:"body2"},"David Boli Han")),l.a.createElement(v.a,{item:!0},l.a.createElement(E.a,{href:"https://webapp.science.hku.hk/sr4/servlet/enquiry?Type=Course&course_code=MATH3911",variant:"body2"},"MATH3911 Game Theory"))),l.a.createElement(v.a,{container:!0,className:e.paper},l.a.createElement(M,null))))))))}var U=t(6),V=t(168),A=t(166),F=t(95),z=t.n(F),B=t(94),P=t.n(B);function G(){return l.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(E.a,{color:"inherit",href:"https://www.linkedin.com/in/davidbhan/"},"David Boli Han")," ",(new Date).getFullYear(),".")}var J=function(e){function a(e){return Object(i.a)(this,a),Object(s.a)(this,Object(m.a)(a).call(this,e))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(v.a,null,l.a.createElement(y.a,{fullWidth:!0},l.a.createElement("br",null),l.a.createElement(h.b,{to:this.props.nextURL,style:{textDecoration:"none"}},l.a.createElement(g.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary"},this.props.buttonText))),l.a.createElement(y.a,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(O.a,{onChange:function(a,t){e.props.setURL(t)},showLabels:!0},l.a.createElement(I.a,{label:"Introduction",value:"home",icon:l.a.createElement(P.a,null)}),l.a.createElement(I.a,{label:"Evolutionary Stable Strategy Calculator",value:"hawkdovesandbox",icon:l.a.createElement(R.a,null)}),l.a.createElement(I.a,{label:"Evolutionary Stable Strategy Sandbox",value:"esssandbox",icon:l.a.createElement(T.a,null)}),l.a.createElement(I.a,{label:"Mock Fighting Sandbox",value:"fakefightingsandbox",icon:l.a.createElement(H.a,null)}),l.a.createElement(I.a,{label:"Conclusion",value:"conclusion",icon:l.a.createElement(z.a,null)}))),l.a.createElement(y.a,{mt:3,mb:2},l.a.createElement("br",null),l.a.createElement(G,null)))}}]),a}(l.a.Component),_=t(159),K=t(163),Y=t(162),Q=t(158),X=t(160),Z=t(161),$=t(170),ee=function(e){function a(e){return Object(i.a)(this,a),Object(s.a)(this,Object(m.a)(a).call(this,e))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(v.a,null,l.a.createElement(Q.a,{component:b.a,style:{width:"100%"},pt:3},l.a.createElement(_.a,{size:"small","aria-label":"a dense table"},l.a.createElement(X.a,null,l.a.createElement(Z.a,null,l.a.createElement(Y.a,null," "),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Hawk")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Dove")))),l.a.createElement(K.a,null,l.a.createElement(Z.a,{key:"row0"},l.a.createElement(Y.a,{component:"th",scope:"row"},l.a.createElement("b",null,"Hawk")),l.a.createElement($.a,{title:"Computed as (v-d)/2 since there is equal probability of both winning and getting the value of the fruit or losing and getting nothing",arrow:!0},l.a.createElement(Y.a,{align:"right"},(this.props.v-this.props.d)/2)),l.a.createElement($.a,{title:"Computed as v since if you play the hawk strategy against a dove, you get the full value of the fruit at no cost",arrow:!0},l.a.createElement(Y.a,{align:"right"},this.props.v))),l.a.createElement(Z.a,{key:"row1"},l.a.createElement(Y.a,{component:"th",scope:"row"},l.a.createElement("b",null,"Dove")),l.a.createElement($.a,{title:"This will always be 0 since your opponent will always get the full value of the food and you will get none",arrow:!0},l.a.createElement(Y.a,{align:"right"},"0")),l.a.createElement($.a,{title:"Computed as v/2 you and your opponenet share the value equally",arrow:!0},l.a.createElement(Y.a,{align:"right"},this.props.v/2)))))))}}]),a}(l.a.Component),ae=Object(x.a)((function(e){return{root:{height:"100vh"},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(3),backgroundColor:e.palette.secondary.main},field:{"& > *":{margin:e.spacing(1),width:"17ch"}}}}));function te(){var e=ae(),a=l.a.useState(100),t=Object(U.a)(a,2),n=t[0],r=t[1],o=l.a.useState(5),i=Object(U.a)(o,2),c=i[0],s=i[1];return l.a.useEffect((function(){window.scrollTo(0,0)}),[]),l.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.root},l.a.createElement(f.a,null),l.a.createElement(j.a,{in:!0,timeout:1500},l.a.createElement(v.a,{item:!0,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"The Hawk Dove Game")),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},"Imagine you are a bird searching for food and you find a fruit on the ground. However, another bird reaches the food at the same time as you. Do you fight with the other bird for sole ownership of the food, or do you try to peacefully share it? The answer to this question is is hard to determine without quantifying the utility and risk of our decisions, so let us add some concrete values for context."),l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Suppose that the value of the fruit is ",l.a.createElement("i",null,"v")," = 100 and that the cost of losing a fight is ",l.a.createElement("i",null,"d")," = 5. If you choose to fight (Hawk) and the other person chooses to negotiate (Dove), you can aggressively claim the value of fruit for yourself at no cost. If you both choose to negotiate (Dove), the value of the fruit will be shared equally among the two of you. Lastly, if you both choose to fight (Hawk), you both have an equal chance of winning the entire value of of the fruit, but also an equal chance of losing the fight and taking a damage penalty for losing. We can model this through a payoff matrix that shows the outcomes of each matchup below: (Hover over the cells for an explanation of how they are calculated!)",l.a.createElement("br",null),l.a.createElement("br",null))),l.a.createElement(ee,{v:parseInt(n),d:parseInt(c)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"In this case, it is clear that you should always play a hawk strategy since you are always better off regardless of what your opponents plays. But what if the value of the fruit or the damage of losing a fight changes? For example, what if we set the fruit value to ",l.a.createElement("i",null,"v")," = 5 and ",l.a.createElement("i",null,"d")," = 20 instead? Try adjusting the values of v and d below to see their effects on the payoff matrix.",l.a.createElement("br",null))),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"value",defaultValue:parseInt(n),type:"number",label:"Value",onChange:function(e){r(e.target.value)}}),l.a.createElement(V.a,{id:"damage",defaultValue:parseInt(c),type:"number",label:"Damage",onChange:function(e){s(e.target.value)}})),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),'Sometimes, the optimal strategy you should play is not so clear. Instead of being a "pure strategy" (i.e. always playing dove or always playing hawk), the optimal might be a "mixed strategy" (e.g. playing dove 50% of the time). Furthermore, the ideal strategy to play also depends on what the rest of the population is doing, as we will see shortly. The strategies that we want to find are ones that dominate other strategies over many iterations of this game as long as the majority of a population uses it. These strategies are known as evolutionary stable strategies (ESSs).',l.a.createElement("br",null))),l.a.createElement(J,{buttonText:"How do we find an ESS?",nextURL:"/hawkdovesimulation",setURL:function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}})))))}var ne=Object(x.a)((function(e){return{root:{height:"100vh"},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(3),backgroundColor:e.palette.secondary.main},text:{margin:e.spacing(0)}}}));function le(){var e=ne(),a=l.a.useState(100),t=Object(U.a)(a,2),n=t[0],r=(t[1],l.a.useState(5)),o=Object(U.a)(r,2),i=o[0];o[1];return l.a.useEffect((function(){window.scrollTo(0,0)}),[]),l.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.root},l.a.createElement(f.a,null),l.a.createElement(j.a,{in:!0,timeout:2e3},l.a.createElement(v.a,{item:!0,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"Calculating the Optimal Strategies")),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},'The key to determining the optimal strategy is to find one that is "evolutionary stable". But what exactly does that mean? Suppose we have a population of birds that always play dove. One day a single bird decides to play the hawk strategy, and proceeds to dominate every other bird it encounters. As the bird get more food and resources, other birds see its success and also play the hawk strategy. Over time, the population of hawks skyrockets, while the population of doves drop. The optimal balance of hawks and doves in the ESS. Let\'s see if we can come up with a set of rules to determine the ESS depending on the values of ',l.a.createElement("i",null,"v")," and ",l.a.createElement("i",null,"d"),"."),l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Look at the original payoff matrix below. It is clear that when the the values of the first row are greater than the values of the second row, a pure hawk strategy is the way to go regardless of what the others are doing. This gives us our first condition of finding an ESS.")),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(ee,{v:parseInt(n),d:parseInt(i)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),l.a.createElement("i",null,"1. When row 1 > row 2 in both columns, a pure hawk strategy is an evolutionary stable strategy."),l.a.createElement("br",null))),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Now what if the value of the fruit were equal to the damage that you would take if you lose a fight? Let us take a look at the payoff matrix where ",l.a.createElement("i",null,"v")," = ",l.a.createElement("i",null,"d")," = 10. In this case, if you were playing against a hawk, your gain from the encounter would be 0 regardless of whether you use a hawk strategy or a dove strategy. However, if you were matched up against a dove, you would come out ahead by playing the hawk strategy. Thus, the hawk strategy is always at least as good as the dove strategy, and sometimes better. This gives our second condition for finding an ESS.")),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(ee,{v:10,d:10}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),l.a.createElement("i",null,"2. When row 1 = row 2 in one column, and row 1 > row 2 in the other column, a pure hawk strategy is evolutionary stable."),l.a.createElement("br",null))),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"One might wonder what would happen in the edge case if somehow both the value and damage were set to 0. In this situation, there is no ESS since each strategy is equally as good the next.")),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(ee,{v:0,d:0}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),l.a.createElement("i",null,"3. When row 1 = row 2 in both columns, no strategy is evolutionary stable."),l.a.createElement("br",null))),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"In the last case, where the damage you risk taking is larger than the value of the food (i.e. ",l.a.createElement("i",null,"v")," > ",l.a.createElement("i",null,"d"),"), there is no pure evolutionary stable strategy. Intead, we can compute the ideal proportion of Hawk and Dove strategies using a bit of basic algebra as well as the knowledge that the evolutionary stable strategy must have the same or better payoff against any other strategy. We skip the algebra for brevity (",l.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Chicken_(game)"},"details here"),"), and show the ideal ratio of hawks to doves is ",l.a.createElement("i",null,"v/d")," hawks to ",l.a.createElement("i",null,"(1 - v/d)")," doves. In other words, the population would be resistant to change if the population consisted of a proportion of ",l.a.createElement("i",null,"v/d")," hawks.")),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(ee,{v:10,d:100}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),l.a.createElement("i",null,"4. When row 1 ","<"," row 2 in one column, and row 1 > row 2 in the other column, the evolutionary stable stategy will be a mixture of v/d hawks and (1-v/d) doves."),l.a.createElement("br",null))),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Now that you have an idea of how we can compute the ESS, take some time to play around with different values of v and d in our sandbox and see their corresponding evolutionary stable strategy.",l.a.createElement("br",null))),l.a.createElement(J,{buttonText:"try out the sandbox",nextURL:"/hawkdovesandbox",setURL:function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}})))))}var re=Object(x.a)((function(e){return{root:{height:"100vh"},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(3),backgroundColor:e.palette.secondary.main},text:{margin:e.spacing(0)},field:{"& > *":{margin:e.spacing(1),width:"17ch"}}}}));function oe(){var e=re(),a=l.a.useState(10),t=Object(U.a)(a,2),n=t[0],r=t[1],o=l.a.useState(50),i=Object(U.a)(o,2),c=i[0],s=i[1];return l.a.useEffect((function(){window.scrollTo(0,0)}),[]),l.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.root},l.a.createElement(f.a,null),l.a.createElement(j.a,{in:!0,timeout:2e3},l.a.createElement(v.a,{item:!0,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"Hawk Dove Game ESS Calculator")),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Take some time to experiment with different values of v and d before continuing on!")),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"value",placeholder:parseInt(n),type:"number",label:"Value",onChange:function(e){r(e.target.value)}}),l.a.createElement(V.a,{id:"damage",placeholder:parseInt(c),type:"number",label:"Damage",onChange:function(e){s(e.target.value)}})),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(ee,{v:parseInt(n),d:parseInt(c)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),l.a.createElement("b",null,"Evolutionary Stable Strategy:",function(e,a){return 0==e&&0==a?" does not exist":parseInt(e)>parseInt(a)?" ("+1..toString()+" Hawks, "+(0).toString()+" Doves)":" ("+(e/a).toString().substring(0,7)+" Hawks, "+(1-e/a).toString().substring(0,7)+" Doves)"}(n,c)),l.a.createElement("br",null))),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Okay, this is just a theoretical model. How would things look if we actually ran a population simulation?",l.a.createElement("br",null))),l.a.createElement(J,{buttonText:"population simuation",nextURL:"/ess",setURL:function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}})))))}t(120);var ie,ce=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={data:t.props.popStats},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null)}}]),a}(l.a.Component),se=function e(a,t){Object(i.a)(this,e),this.strategy=a,this.payoff=t},me=function e(a,t,n,l){Object(i.a)(this,e),this.round=a,this.hawk=t,this.dove=n,this.hawkRatio=l},ue=function(e,a){var t,n=[];for(t=0;t<Math.floor(e*a);t++)n[t]=new se(0,0);for(t=Math.floor(e*a);t<e;t++)n[t]=new se(1,0);return n},he=function(e,a,t,n){return 0==t.strategy&&0==n.strategy?(e-a)/2:0==t.strategy&&1==n.strategy?e:1==t.strategy&&0==n.strategy?0:e/2},pe=function(e,a,t){var n=!0,l=!1,r=void 0;try{for(var o,i=Array(e.length).keys()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=e[o.value],s=e[Math.floor(Math.random()*Math.floor(e.length))];c.payoff=he(a,t,c,s)}}catch(m){l=!0,r=m}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}},de=function(e,a){var t=!0,n=!1,l=void 0;try{for(var r,o=Array(a).keys()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value;var i=e[Math.floor(Math.random()*Math.floor(e.length))],c=e[Math.floor(Math.random()*Math.floor(e.length))];c.payoff>i.payoff&&(i.strategy=c.strategy)}}catch(s){n=!0,l=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw l}}},ge=function(e){var a=0,t=0,n=!0,l=!1,r=void 0;try{for(var o,i=Array(e.length).keys()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){0==e[o.value].strategy?a+=1:t+=1}}catch(c){l=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}return[a,t,a/(a+t)]},fe=[],Ee=function(e){function a(e){var t;Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={run:t.props.run},ie=ue(t.props.p,t.props.q),fe=[];var n=!0,l=!1,r=void 0;try{for(var o,c=Array(t.props.n).keys()[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=o.value,h=ge(ie),p=Object(U.a)(h,3),d=p[0],g=p[1],f=p[2],E=new me(u,d,g,f);fe.push(E),pe(ie,t.props.v,t.props.d),de(ie,t.props.k)}}catch(b){l=!0,r=b}finally{try{n||null==c.return||c.return()}finally{if(l)throw r}}return t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(){console.log(this.props.q),ie=ue(this.props.p,this.props.q),fe=[];var e=!0,a=!1,t=void 0;try{for(var n,l=Array(this.props.n).keys()[Symbol.iterator]();!(e=(n=l.next()).done);e=!0){var r=n.value,o=ge(ie),i=Object(U.a)(o,3),c=i[0],s=i[1],m=i[2],u=new me(r,c,s,m);fe.push(u),pe(ie,this.props.v,this.props.d),de(ie,this.props.k)}}catch(h){a=!0,t=h}finally{try{e||null==l.return||l.return()}finally{if(a)throw t}}}},{key:"render",value:function(){return l.a.createElement(v.a,{component:b.a},l.a.createElement(ce,{popStats:fe}),l.a.createElement(Q.a,null,l.a.createElement(_.a,{size:"small","aria-label":"sticky table"},l.a.createElement(X.a,null,l.a.createElement(Z.a,null,l.a.createElement(Y.a,null,l.a.createElement("b",null,"Round")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Hawks")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Doves")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Hawk Proportion")))),l.a.createElement(K.a,null,fe.map((function(e){return l.a.createElement(Z.a,{key:"round"+e.round},l.a.createElement(Y.a,{component:"th",scope:"row"},e.round),l.a.createElement(Y.a,{align:"right"},e.hawk),l.a.createElement(Y.a,{align:"right"},e.dove),l.a.createElement(Y.a,{align:"right"},e.hawkRatio))}))))))}}]),a}(l.a.Component),be=t(167),ye=Object(x.a)((function(e){return{root:{height:"100vh"},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(3),backgroundColor:e.palette.secondary.main},text:{margin:e.spacing(0)}}}));function ve(){var e=ye(),a=l.a.useState(100),t=Object(U.a)(a,2),n=t[0],r=(t[1],l.a.useState(5)),o=Object(U.a)(r,2),i=o[0],c=(o[1],l.a.useState(500)),s=Object(U.a)(c,2),m=s[0],u=(s[1],l.a.useState(.1)),h=Object(U.a)(u,2),p=h[0],E=(h[1],l.a.useState(100)),w=Object(U.a)(E,2),x=w[0],O=(w[1],l.a.useState(50)),I=Object(U.a)(O,2),C=I[0];I[1];l.a.useEffect((function(){window.scrollTo(0,0)}),[]);var H=l.a.useState(!1),N=Object(U.a)(H,2),T=N[0],q=N[1];return l.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.root},l.a.createElement(f.a,null),l.a.createElement(j.a,{in:!0,timeout:2e3},l.a.createElement(v.a,{item:!0,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"Rules of the Simulation")),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},"In this simulation, we have a value, ",l.a.createElement("i",null,"v"),", for the value of food and a damage, ",l.a.createElement("i",null,"d"),", for the damage the loser of a fight incurs. Furthemore, we have the initial population size, ",l.a.createElement("i",null,"p"),", that denotes the amount of birds, and a value, ",l.a.createElement("i",null,"q"),", that denotes the initial proportion of the population that uses a hawk strategy."),l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Each round, the birds will all be paired against a random matchup to play the game. Their payoff values are computed and then stored. After each round, we choose a random number of birds, ",l.a.createElement("i",null,"k"),", that will each be randomly compared to another bird. If the other bird received a higher payoff, then the original bird will switch strategies to that of the other bird. We can run this simulation for ",l.a.createElement("i",null,"n")," rounds and see how the population proportions tend to stabilize after a certain number of rounds."),l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"To start, let us choose ",l.a.createElement("i",null,"v")," = ",n,", ",l.a.createElement("i",null,"d")," = ",i,", ",l.a.createElement("i",null,"p")," = ",m,", ",l.a.createElement("i",null,"q")," = ",p,", ",l.a.createElement("i",null,"k")," = ",x,", and ",l.a.createElement("i",null,"n")," = ",C," with the payoff matrix show below.")),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(ee,{v:parseInt(n),d:parseInt(i)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"In other words, we start of with a population ",m," birds, ",m*p," of which play a hawk strategy. After each round, ",x," birds randomly check out the payoff of another bird and switches to their strategy if the other bird's payoff is better. We run this for ",C," rounds, and see how the population proportion changes over time. Note, as we discussed earlier, we should predict that the ESS would be a population full of hawks. Let us run the simulation and see how it turns out! (Note that the simulation performance depends on random variable changes, so will change slightly each time.)",l.a.createElement("br",null))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(be.a,{control:l.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:function(){q(!0)}},"Run Simulation")}),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(v.a,null,T?l.a.createElement(v.a,{className:e.paper},l.a.createElement(Ee,{v:parseInt(n),d:parseInt(i),p:parseInt(m),q:parseFloat(p),k:parseInt(x),n:parseInt(C)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"That's pretty cool! We see that the ratio of hawks converges to 1, just as we expected from our calculations. Let's try out different starting values in our sandbox to how the population proportion convertes to our predicted ESS.",l.a.createElement("br",null)))):null),l.a.createElement(J,{buttonText:"try out the sandbox",nextURL:"/esssandbox",setURL:function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}})))))}var we=Object(x.a)((function(e){return{root:{height:"100vh"},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(3),backgroundColor:e.palette.secondary.main},text:{margin:e.spacing(0)},field:{"& > *":{margin:e.spacing(1),width:"17ch"}}}}));function ke(){var e=we(),a=l.a.useState(2),t=Object(U.a)(a,2),n=t[0],r=t[1],o=l.a.useState(5),i=Object(U.a)(o,2),c=i[0],s=i[1],m=l.a.useState(500),u=Object(U.a)(m,2),h=u[0],p=u[1],E=l.a.useState(.1),w=Object(U.a)(E,2),x=w[0],j=w[1],O=l.a.useState(.9),I=Object(U.a)(O,2),C=I[0],H=I[1],N=l.a.useState(50),T=Object(U.a)(N,2),q=T[0],R=T[1],D=l.a.useState(100),M=Object(U.a)(D,2),L=M[0],W=M[1];l.a.useEffect((function(){window.scrollTo(0,0)}),[]);var F=l.a.useState(!1),z=Object(U.a)(F,2),B=z[0],P=z[1],G=l.a.useState(!1),_=Object(U.a)(G,2),K=_[0],Y=_[1];return l.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.root},l.a.createElement(f.a,null),l.a.createElement(v.a,{item:!0,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"Evolutionary Stable Strategy Imitation Simulation")),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},"Input the starting parameters of the population of your choice and then hit the start simulation button once you are satisfied with the payoff matrix and population parameters of your choice. Note that higher values of k will allow the population to change far quicker, but the final result will be less stable.",l.a.createElement("br",null))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(v.a,{className:e.paper},"There is some weird behavior with autoupdating, so be sure to click the run simulation button each time you change the parameters! If anything breaks, just refresh the page :)"),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"value",defaultValue:parseInt(n),type:"number",label:"Value (v)",onChange:function(e){r(e.target.value)}}),l.a.createElement(V.a,{id:"damage",defaultValue:parseInt(c),type:"number",label:"Damage (d)",onChange:function(e){s(e.target.value)}})),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(ee,{v:parseInt(n),d:parseInt(c)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),l.a.createElement("b",null,"Expected Stable Strategy:",function(e,a){return 0==e&&0==a?" does not exist":parseInt(e)>parseInt(a)?" ("+1..toString()+" Hawks, "+(0).toString()+" Doves)":" ("+(e/a).toString().substring(0,7)+" Hawks, "+(1-e/a).toString().substring(0,7)+" Doves)"}(n,c)),l.a.createElement("br",null))),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"population",defaultValue:parseInt(h),type:"number",label:"Population (p)",onChange:function(e){p(e.target.value)}}),l.a.createElement(V.a,{id:"learningRate",defaultValue:parseInt(q),type:"number",label:"Learning Size (k)",onChange:function(e){R(e.target.value)}}),l.a.createElement(V.a,{id:"rounds",defaultValue:parseInt(L),type:"number",label:"Num. Rounds (n)",onChange:function(e){W(e.target.value)}})),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"hawks",defaultValue:parseFloat(x),type:"number",label:"Hawk Ratio (q)",onChange:function(e){parseFloat(e.target.value)>=1&&alert("This value must be less than 1 (e.g. 0.6)"),j(e.target.value),H(1-e.target.value)}}),l.a.createElement(V.a,{disabled:!0,id:"doves",value:parseFloat(C),variant:"filled",label:"Dove Ratio"})),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(be.a,{control:l.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:function(){P(!B),Y(!0)}},"Run Simulation")}),l.a.createElement(y.a,null,l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(v.a,null,K?l.a.createElement(v.a,{className:e.paper},l.a.createElement(Ee,{v:parseInt(n),d:parseInt(c),p:parseInt(h),q:parseFloat(x),k:parseInt(q),n:parseInt(L),run:B}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"The simulation is a powerful tool that shows off the convergence of a population of strategies over time. But what if totally new strategies entered the population? What if an animal was willing to put up a fighting display at a certain cost to try to scare away the doves?",l.a.createElement("br",null)))):null),l.a.createElement(J,{buttonText:"incorporating mock fighting strategies",nextURL:"/fakefighting",setURL:function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}}))))}var Se=function(e){function a(e){return Object(i.a)(this,a),Object(s.a)(this,Object(m.a)(a).call(this,e))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(v.a,null,l.a.createElement(Q.a,{component:b.a,style:{width:"100%"},pt:3},l.a.createElement(_.a,{size:"small","aria-label":"a dense table"},l.a.createElement(X.a,null,l.a.createElement(Z.a,null,l.a.createElement(Y.a,null," "),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Hawk")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Crow")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Dove")))),l.a.createElement(K.a,null,l.a.createElement(Z.a,{key:"row0"},l.a.createElement(Y.a,{component:"th",scope:"row"},l.a.createElement("b",null,"Hawk")),l.a.createElement($.a,{title:"Computed as (v-d)/2 since there is equal probability of both winning and getting the value of the fruit or losing and getting nothing",arrow:!0},l.a.createElement(Y.a,{align:"right"},(this.props.v-this.props.d)/2)),l.a.createElement($.a,{title:"Computed as v since if you play the hawk strategy against a crow, you get the full value of the fruit at no cost",arrow:!0},l.a.createElement(Y.a,{align:"right"},this.props.v)),l.a.createElement($.a,{title:"Computed as v since if you play the hawk strategy against a dove, you get the full value of the fruit at no cost",arrow:!0},l.a.createElement(Y.a,{align:"right"},this.props.v))),l.a.createElement(Z.a,{key:"row1"},l.a.createElement(Y.a,{component:"th",scope:"row"},l.a.createElement("b",null,"Crow")),l.a.createElement($.a,{title:"This will always be -c since you will fight against the hawk until you incur cost",arrow:!0},l.a.createElement(Y.a,{align:"right"},0-this.props.c)),l.a.createElement($.a,{title:"Computed as (v-c)/2 you and your opponenet are equally likely to win or lose the fight",arrow:!0},l.a.createElement(Y.a,{align:"right"},(this.props.v-this.props.c)/2)),l.a.createElement($.a,{title:"Computed as v since if you play the crow strategy against a dove, you get the full value of the fruit at no cost",arrow:!0},l.a.createElement(Y.a,{align:"right"},this.props.v))),l.a.createElement(Z.a,{key:"row2"},l.a.createElement(Y.a,{component:"th",scope:"row"},l.a.createElement("b",null,"Dove")),l.a.createElement($.a,{title:"This will always be 0 since your opponent will always get the full value of the food and you will get none",arrow:!0},l.a.createElement(Y.a,{align:"right"},"0")),l.a.createElement($.a,{title:"This will always be 0 since your opponent will always get the full value of the food and you will get none",arrow:!0},l.a.createElement(Y.a,{align:"right"},"0")),l.a.createElement($.a,{title:"Computed as v/2 you and your opponenet share the value equally",arrow:!0},l.a.createElement(Y.a,{align:"right"},this.props.v/2)))))))}}]),a}(l.a.Component),xe=Object(x.a)((function(e){return{root:{height:"100vh"},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(3),backgroundColor:e.palette.secondary.main},field:{"& > *":{margin:e.spacing(1),width:"17ch"}}}}));function je(){var e=xe(),a=l.a.useState(100),t=Object(U.a)(a,2),n=t[0],r=t[1],o=l.a.useState(5),i=Object(U.a)(o,2),c=i[0],s=i[1],m=l.a.useState(1),u=Object(U.a)(m,2),h=u[0],p=u[1];return l.a.useEffect((function(){window.scrollTo(0,0)}),[]),l.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.root},l.a.createElement(f.a,null),l.a.createElement(j.a,{in:!0,timeout:1500},l.a.createElement(v.a,{item:!0,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"Scaring Away the Doves")),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},"Sometimes, animals may be willing to make a display and fight until they incur a certain level of damage. We will call animals who use this strategy crows, and the cost that they are willing to fight up to ",l.a.createElement("i",null,"c"),"."),l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Once again, we suppose the value of the fruit is v = 100 and that the cost of losing a fight is d = 5. However, now we have a new crow strategy who is willing to fight until a cost, c = 1, is taken. In this case, when a crow goes against a dove, the crow is able to get all the value for itself. However, when a crow goes up against a hawk, the crow is guaranteed to take a cost equal to c. When a crow fights another crow, they both have equal chances of winning and getting the fruit, or losing and incurring the cost. We can see the payoff matrix below:",l.a.createElement("br",null),l.a.createElement("br",null))),l.a.createElement(Se,{v:parseInt(n),d:parseInt(c),c:parseInt(h)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Clearly it can pay off to be a crow rather than a dove in certain situations. Try adjusting the values in the form below to see its effect on the payoff matrix above. You can also hover over a table cell to see how that value is computed. (Note that in this scenario, we always assume c > 0 and d > c. If c = 0, the the crow is just a dove. If c > d, then we can simply change the labels for the hawk and the crow.)",l.a.createElement("br",null))),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"value",defaultValue:parseInt(n),type:"number",label:"Value",onChange:function(e){r(e.target.value)}}),l.a.createElement(V.a,{id:"damage",defaultValue:parseInt(c),type:"number",label:"Damage",onChange:function(e){s(e.target.value)}}),l.a.createElement(V.a,{id:"cost",defaultValue:parseInt(h),type:"number",label:"Cost",onChange:function(e){p(e.target.value)}})),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"In a multiplayer game, it is possible for there to be multiple evolutionary stable strategies, and it's computation is not as straightforward as in a two person game. Instead, let's look at simulating a multistrategy population to see how it converges over several generations. The convergence to a strategy heavily depends on the initial breakdowns of a population as well as the parameters of the game. Of course, there is a bit of randomness as well due to the nature of the simulation. Let's take a look at how this would work.",l.a.createElement("br",null))),l.a.createElement(J,{buttonText:"Simulating a multistrategy population",nextURL:"/fakefightingsimulation",setURL:function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}})))))}var Oe,Ie=function e(a,t){Object(i.a)(this,e),this.strategy=a,this.payoff=t},Ce=function e(a,t,n,l,r,o,c){Object(i.a)(this,e),this.round=a,this.hawk=t,this.crow=n,this.dove=l,this.hawkRatio=r,this.crowRatio=o,this.doveRatio=c},He=function(e,a,t){var n,l=[];for(n=0;n<Math.floor(e*a);n++)l[n]=new Ie(0,0);for(n=Math.floor(e*a);n<Math.floor(e*a)+Math.floor(e*t);n++)l[n]=new Ie(1,0);for(n=Math.floor(e*a)+Math.floor(e*t);n<e;n++)l[n]=new Ie(2,0);return l},Ne=function(e,a,t,n,l){return 0==n.strategy&&0==l.strategy?(e-t)/2:0==n.strategy&&1==l.strategy||0==n.strategy&&2==l.strategy?e:1==n.strategy&&0==l.strategy?-a:1==n.strategy&&1==l.strategy?(e-a)/2:1==n.strategy&&2==l.strategy?e:2==n.strategy&&0==l.strategy||2==n.strategy&&1==l.strategy?0:e/2},Te=function(e,a,t,n){var l=!0,r=!1,o=void 0;try{for(var i,c=Array(e.length).keys()[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=e[i.value],m=e[Math.floor(Math.random()*Math.floor(e.length))];s.payoff=Ne(a,t,n,s,m)}}catch(u){r=!0,o=u}finally{try{l||null==c.return||c.return()}finally{if(r)throw o}}},qe=function(e,a){var t=!0,n=!1,l=void 0;try{for(var r,o=Array(a).keys()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value;var i=e[Math.floor(Math.random()*Math.floor(e.length))],c=e[Math.floor(Math.random()*Math.floor(e.length))];c.payoff>i.payoff&&(i.strategy=c.strategy)}}catch(s){n=!0,l=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw l}}},Re=function(e){var a=0,t=0,n=0,l=!0,r=!1,o=void 0;try{for(var i,c=Array(e.length).keys()[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=e[i.value];0==s.strategy?a+=1:1==s.strategy?t+=1:n+=1}}catch(m){r=!0,o=m}finally{try{l||null==c.return||c.return()}finally{if(r)throw o}}return[a,t,n,a/e.length,t/e.length,n/e.length]},De=[],Me=function(e){function a(e){var t;Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={run:t.props.run},Oe=He(t.props.p,t.props.q,t.props.r),De=[];var n=!0,l=!1,r=void 0;try{for(var o,c=Array(t.props.n).keys()[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=o.value,h=Re(Oe),p=Object(U.a)(h,6),d=p[0],g=p[1],f=p[2],E=p[3],b=p[4],y=p[5],v=new Ce(u,d,g,f,E,b,y);console.log(v),De.push(v),Te(Oe,t.props.v,t.props.c,t.props.d),qe(Oe,t.props.k)}}catch(w){l=!0,r=w}finally{try{n||null==c.return||c.return()}finally{if(l)throw r}}return t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(){console.log(this.props.q),Oe=He(this.props.p,this.props.q,this.props.r),De=[];var e=!0,a=!1,t=void 0;try{for(var n,l=Array(this.props.n).keys()[Symbol.iterator]();!(e=(n=l.next()).done);e=!0){var r=n.value,o=Re(Oe),i=Object(U.a)(o,6),c=i[0],s=i[1],m=i[2],u=i[3],h=i[4],p=i[5],d=new Ce(r,c,s,m,u,h,p);console.log(d),De.push(d),Te(Oe,this.props.v,this.props.c,this.props.d),qe(Oe,this.props.k)}}catch(g){a=!0,t=g}finally{try{e||null==l.return||l.return()}finally{if(a)throw t}}}},{key:"render",value:function(){return l.a.createElement(v.a,null,l.a.createElement(Q.a,{component:b.a},l.a.createElement(_.a,{size:"small","aria-label":"sticky table"},l.a.createElement(X.a,null,l.a.createElement(Z.a,null,l.a.createElement(Y.a,null,l.a.createElement("b",null,"Round")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Hawks")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Crows")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Doves")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Hawk Proportion")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Crow Proportion")),l.a.createElement(Y.a,{align:"right"},l.a.createElement("b",null,"Dove Proportion")))),l.a.createElement(K.a,null,De.map((function(e){return l.a.createElement(Z.a,{key:"round"+e.round},l.a.createElement(Y.a,{component:"th",scope:"row"},e.round),l.a.createElement(Y.a,{align:"right"},e.hawk),l.a.createElement(Y.a,{align:"right"},e.crow),l.a.createElement(Y.a,{align:"right"},e.dove),l.a.createElement(Y.a,{align:"right"},e.hawkRatio),l.a.createElement(Y.a,{align:"right"},e.crowRatio),l.a.createElement(Y.a,{align:"right"},e.doveRatio))}))))))}}]),a}(l.a.Component),Le=Object(x.a)((function(e){return{root:{height:"100vh"},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(3),backgroundColor:e.palette.secondary.main},text:{margin:e.spacing(0)}}}));function We(){var e=Le(),a=l.a.useState(100),t=Object(U.a)(a,2),n=t[0],r=(t[1],l.a.useState(5)),o=Object(U.a)(r,2),i=o[0],c=(o[1],l.a.useState(1)),s=Object(U.a)(c,2),m=s[0],u=(s[1],l.a.useState(500)),h=Object(U.a)(u,2),p=h[0],E=(h[1],l.a.useState(.1)),w=Object(U.a)(E,2),x=w[0],j=(w[1],l.a.useState(.1)),O=Object(U.a)(j,2),I=O[0],C=(O[1],l.a.useState(200)),H=Object(U.a)(C,2),N=H[0],T=(H[1],l.a.useState(30)),q=Object(U.a)(T,2),R=q[0];q[1];l.a.useEffect((function(){window.scrollTo(0,0)}),[]);var D=l.a.useState(!1),M=Object(U.a)(D,2),L=M[0],W=M[1];return l.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.root},l.a.createElement(f.a,null),l.a.createElement(v.a,{item:!0,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"Multiplayer Simulation")),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},"Similar to the first simulation, we have a value, ",l.a.createElement("i",null,"v"),", for the value of food and a damage, ",l.a.createElement("i",null,"d"),", for the damage the loser of a fight incurs. Furthemore, we have the initial population size, ",l.a.createElement("i",null,"p"),", of the birds, and a value, ",l.a.createElement("i",null,"q"),", that denotes the initial proportion of the population that uses a hawk strategy. Only now, we also include a value, ",l.a.createElement("i",null,"c"),", for the cost that a crow is willing to take and a value, ",l.a.createElement("i",null,"r")," for the initial population size of the crows. Note that the sum of ",l.a.createElement("i",null,"q")," and ",l.a.createElement("i",null,"r")," must be less than 1."),l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"Each round, the birds will all be paired against a random matchup to play the game. Their payoff values are computed and then stored. After each round, we choose a random number of birds, ",l.a.createElement("i",null,"k"),", that will each be randomly compared to another bird. If the other bird received a higher payoff, then the original bird will switch strategies to that of the other bird. Higher values of k will let the population proportion converge faster, but the convergence will be less stable. We can run this simulation for n rounds and see how the population proportions tend to stabilize after a certain number of rounds."),l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"To start, let us choose v = ",n,", d = ",i,", c = ",m,", p = ",p,", q = ",x,", r = ",I,", k = ",N,", and n = ",R," with the payoff matrix show below.")),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(Se,{v:parseInt(n),d:parseInt(i),c:parseInt(m)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"In other words, we start of with a population ",p," birds, ",p*x," of which play a hawk strategy, ",p*I," of which play a crow strategy, and ",p-p*x-p*I," of which play a dove strategy. After each round, ",N," birds randomly check out the payoff of another bird and switches to their strategy if the other bird's payoff is better. We run this for ",R," rounds, and see how the population proportion changes over time. Let us run the simulation and see how it turns out! (Note that the simulation performance depends on random variable changes, so will change slightly each time.)",l.a.createElement("br",null))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(be.a,{control:l.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:function(){W(!0)}},"Run Simulation")}),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(v.a,null,L?l.a.createElement(v.a,{className:e.paper},l.a.createElement(Me,{v:parseInt(n),d:parseInt(i),c:parseInt(m),p:parseInt(p),q:parseFloat(x),r:parseFloat(I),k:parseInt(N),n:parseInt(R)}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"That's pretty cool! In case you caught on beforehand, we see that the values in row 1 are greater or equal to those in rows 2 and 3 for every column, so Hawk is clearly a theoretically stable strategy. Through this simulation, we got to see the population of hawks, crows, and doves converge roughly to this expected strategy. Let's try out different starting values in our sandbox to how the population proportion convertes to our predicted ESS.",l.a.createElement("br",null)))):null),l.a.createElement(J,{buttonText:"try out the sandbox",nextURL:"/fakefightingsandbox",setURL:function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}}))))}var Ue=Object(x.a)((function(e){return{root:{height:"100vh"},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(3),backgroundColor:e.palette.secondary.main},field:{"& > *":{margin:e.spacing(1),width:"17ch"}}}}));function Ve(){var e=Ue(),a=l.a.useState(1),t=Object(U.a)(a,2),n=t[0],r=t[1],o=l.a.useState(5),i=Object(U.a)(o,2),c=i[0],s=i[1],m=l.a.useState(1),u=Object(U.a)(m,2),h=u[0],p=u[1],E=l.a.useState(500),w=Object(U.a)(E,2),x=w[0],j=w[1],O=l.a.useState(.1),I=Object(U.a)(O,2),C=I[0],H=I[1],N=l.a.useState(.1),T=Object(U.a)(N,2),q=T[0],R=T[1],D=l.a.useState(.8),M=Object(U.a)(D,2),L=M[0],W=M[1],F=l.a.useState(30),z=Object(U.a)(F,2),B=z[0],P=z[1],G=l.a.useState(200),_=Object(U.a)(G,2),K=_[0],Y=_[1];l.a.useEffect((function(){window.scrollTo(0,0)}),[]);var Q=l.a.useState(!1),X=Object(U.a)(Q,2),Z=X[0],$=X[1],ee=l.a.useState(!1),ae=Object(U.a)(ee,2),te=ae[0],ne=ae[1];return l.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.root},l.a.createElement(f.a,null),l.a.createElement(v.a,{item:!0,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},l.a.createElement(y.a,{lineHeight:2},"Multiplayer Simulation")),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},"Input the starting parameters of the population of your choice and then hit the start simulation button once you are satisfied with the payoff matrix and population parameters of your choice. Note that higher values of k will allow the population to change far quicker, but the final result will be less stable.")),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(v.a,{className:e.paper},"There is some weird behavior with autoupdating, so be sure to click the run simulation button each time you change the parameters! If anything breaks, just refresh the page :)"),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"value",defaultValue:parseInt(n),type:"number",label:"Value (v)",onChange:function(e){r(e.target.value)}}),l.a.createElement(V.a,{id:"damage",defaultValue:parseInt(c),type:"number",label:"Damage (d)",onChange:function(e){s(e.target.value)}}),l.a.createElement(V.a,{id:"cost",defaultValue:parseInt(h),type:"number",label:"Cost (c)",onChange:function(e){p(e.target.value)}})),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(Se,{v:parseInt(n),d:parseInt(c),c:parseInt(h)}),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"population",defaultValue:parseInt(x),type:"number",label:"Population (p)",onChange:function(e){j(e.target.value)}}),l.a.createElement(V.a,{id:"learningRate",defaultValue:parseInt(B),type:"number",label:"Learning Size (k)",onChange:function(e){P(e.target.value)}}),l.a.createElement(V.a,{id:"rounds",defaultValue:parseInt(K),type:"number",label:"Num. Rounds (n)",onChange:function(e){Y(e.target.value)}})),l.a.createElement("form",{autoComplete:"off",className:e.field},l.a.createElement(V.a,{id:"hawks",defaultValue:parseFloat(C),type:"number",label:"Hawk Ratio (q)",onChange:function(e){e.target.value+q>1&&alert("The sum of hawk and crow ratios must be less than 1"),H(e.target.value),W(1-e.target.value-q)}}),l.a.createElement(V.a,{id:"crows",defaultValue:parseFloat(q),type:"number",label:"Crow Ratio (r)",onChange:function(e){e.target.value+C>1&&alert("The sum of hawk and crow ratios must be less than 1"),R(e.target.value),W(1-e.target.value-C)}}),l.a.createElement(V.a,{disabled:!0,id:"doves",value:parseFloat(L).toString().substring(0,5),variant:"filled",label:"Dove Ratio"})),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(be.a,{control:l.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:function(){$(!Z),ne(!0)}},"Run Simulation")}),l.a.createElement(y.a,null,l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(v.a,null,te?l.a.createElement(v.a,{className:e.paper},l.a.createElement(Me,{v:parseInt(n),d:parseInt(c),c:parseInt(h),p:parseInt(x),q:parseFloat(C),r:parseFloat(q),k:parseInt(B),n:parseInt(K),run:Z}),l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2,m:3,mt:0,mb:0},l.a.createElement("br",null),"This is all pretty cool, but so what?",l.a.createElement("br",null)))):null),l.a.createElement(J,{buttonText:"conclusion",nextURL:"/conclusion",setURL:function(e){var a=window.location.pathname.concat("#/"+e);window.location.href=a}}))))}function Ae(){return l.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"The University of Hong Kong",l.a.createElement("br",null),"Released May 2020")}var Fe=Object(x.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1486406029622-f2cf84b50af6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1312&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ze(){var e=Fe();return l.a.useEffect((function(){window.scrollTo(0,0)}),[]),l.a.createElement(v.a,{container:!0,component:"main",className:e.root},l.a.createElement(f.a,null),l.a.createElement(D.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:1e3},l.a.createElement(v.a,{item:!0,xs:!1,sm:4,md:7,className:e.image})),l.a.createElement(D.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:1e3},l.a.createElement(v.a,{item:!0,xs:12,sm:8,md:5,component:b.a,elevation:6,square:!0},l.a.createElement("div",{className:e.paper},l.a.createElement(j.a,{in:!0,timeout:2500},l.a.createElement(d.a,{className:e.avatar},l.a.createElement(k.a,null))),l.a.createElement(j.a,{in:!0,timeout:2500},l.a.createElement(S.a,{component:"p"},l.a.createElement(y.a,{lineHeight:2},"Unbeknowest to the participating animals, all of them were playing by the rules of the complex game of life. Unlike them, however, you have the chance and the ability to have a clearer idea of the world around you."),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,{lineHeight:2},"Obviously, the rules of the game shown here are far simpler than those found in the real world, but this formaulation of thinking can be used to explain not just the behavior of animals, but also of humans. (For example, why are children more likely to engage in fighting over treats and toys than adults? Think about the perceived cost of fighting and value of treats in children compared to adults)"),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,{lineHeight:2},"Now, it is extraordinarily difficult to quantify the exact value of food and the cost of injuries in the real world. Utility is not only subject to each individual, but it is also relative to available opportunities. Nonetheless, the inability to completely accurately quantify value mathematicallly does not stop us from creating and understanding useful models of the world around us, as is widely done in economics."),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,{lineHeight:2},"Nature and the world around us can be such a seemingly complex environment. Take a step back, however, and we can begin to see the rules that govern things."))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,null,l.a.createElement(j.a,{in:!0,timeout:3e3},l.a.createElement("a",{href:"https://plato.stanford.edu/entries/game-evolutionary/"},l.a.createElement(g.a,{formaction:""},"Continue your learning")))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(j.a,{in:!0,timeout:3e3},l.a.createElement(y.a,null,l.a.createElement(O.a,{onChange:function(e,a){!function(e){var a=window.location.pathname.replace("conclusion","").concat("#/"+e);window.location.href=a}(a)},showLabels:!0},l.a.createElement(I.a,{label:"Evolutionary Stable Strategy Calculator",value:"hawkdovesandbox",icon:l.a.createElement(R.a,null)}),l.a.createElement(I.a,{label:"Evolutionary Stable Strategy Simulation",value:"esssandbox",icon:l.a.createElement(T.a,null)}),l.a.createElement(I.a,{label:"Mock Fighting Simulation",value:"fakefightingsandbox",icon:l.a.createElement(H.a,null)})))),l.a.createElement(y.a,null,l.a.createElement("br",null)),l.a.createElement(j.a,{in:!0,timeout:3e3},l.a.createElement(v.a,{container:!0},l.a.createElement(v.a,{item:!0,xs:!0},l.a.createElement(E.a,{href:"https://www.linkedin.com/in/davidbhan/",variant:"body2"},"David Boli Han")),l.a.createElement(v.a,{item:!0},l.a.createElement(E.a,{href:"https://webapp.science.hku.hk/sr4/servlet/enquiry?Type=Course&course_code=MATH3911",variant:"body2"},"MATH3911 Game Theory")))),l.a.createElement(j.a,{in:!0,timeout:3e3},l.a.createElement(y.a,{mt:3},l.a.createElement(Ae,null)))))))}t(121),t(122);var Be=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement(f.a,null),l.a.createElement("div",null,l.a.createElement("div",{className:"content"},l.a.createElement(p.a,{exact:!0,path:["/home","/"],component:W}),l.a.createElement(p.a,{path:"/hawkdove",component:te}),l.a.createElement(p.a,{path:"/hawkdovesimulation",component:le}),l.a.createElement(p.a,{path:"/hawkdovesandbox",component:oe}),l.a.createElement(p.a,{path:"/ess",component:ve}),l.a.createElement(p.a,{path:"/esssandbox",component:ke}),l.a.createElement(p.a,{path:"/fakefighting",component:je}),l.a.createElement(p.a,{path:"/fakefightingsimulation",component:We}),l.a.createElement(p.a,{path:"/fakefightingsandbox",component:Ve}),l.a.createElement(p.a,{path:"/conclusion",component:ze}))))}}]),a}(n.Component);o.a.render(l.a.createElement(Be,null),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.e718bf87.chunk.js.map